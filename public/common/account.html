<html>

<head>
    <title>Account</title>

    <link rel="shortcut icon" href="/favicon.ico">

    <script src="https://code.jquery.com/jquery-3.1.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/1.2.5/marked.min.js"></script>

    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>

    <script src="https://www.gstatic.com/firebasejs/7.21.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.21.0/firebase-storage.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-firestore.js"></script>

    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />

    <link rel="stylesheet" type="text/css" href="/dist/semantic.min.css">
    <script src="/dist/semantic.min.js"></script>

    <link rel="stylesheet" href="/css/styles.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timeago/1.6.7/jquery.timeago.min.js"></script>
</head>

<body>
    <canvas id="background"></canvas>

    <div id="header"></div>
    <br><br><br><br>

    <div class='ui main text container'>
        <div class="ui grid">
            <div class="four wide column">
                <div class="ui vertical pointing fluid menu">
                    <a class="violet item active" data-tab="information">
                        <i class="user icon"></i>
                        Information
                    </a>

                    <a class="violet item" data-tab="display">
                        <i class="desktop icon"></i>
                        Display
                    </a>

                    <a class="violet item" data-tab="accessibility">
                        <i class="universal access icon"></i>
                        Accessibility
                    </a>

                    <a class="violet item" data-tab="options">
                        <i class="sliders horizontal icon"></i>
                        Options
                    </a>
                </div>
            </div>

            <div class="twelve wide stretched column">
                <div class="ui tab segment active" data-tab="information">
                    <form class='ui form' id='account-info'>
                        <div class='field'>
                            <label>Profile Picture</label>
                        </div>
                        <img class='ui medium image' id='profile-image'
                            src="https://firebasestorage.googleapis.com/v0/b/bitwise-a3c2d.appspot.com/o/usercontent%2Fdefault%2Fprofile.jpg?alt=media&token=f35c1c16-d557-4b94-b5f0-a1782869b551">
                        <br>

                        <label class="ui basic button" for="image-file-field">
                            <i class="file icon"></i>
                            Upload
                        </label>
                        <input type="file" accept=".png, .jpg, .jpeg" id="image-file-field" style="display: none"
                            onchange='uploadImage(event)' />
                        <div class="ui basic button" onclick="removeImage()">
                            <i class="trash icon"></i>
                            Remove
                        </div>
                        <br><br>

                        <div class='field'>
                            <label>Username</label>
                            <input type="text" id="username-field" required />
                        </div>

                        <div class='field'>
                            <label>Short Bio</label>
                            <textarea rows="2" type="text" id="bio-txt-field" onkeyup="countChars(this);"></textarea>
                          <p id="charNum"></p>
                        </div>

                        <div class='field'>
                            <label>Email</label>
                            <div class="ui disabled input">
                                <input type="text" placeholder="retrieving email..." id="email-field" />
                            </div>
                        </div>
                        <br>

                        <div class='ui violet submit button'>Save</div>
                        <div class='ui basic button' onclick="cancelForm()">Cancel</div>
                        <div class="ui error message"></div>
                    </form>
                </div>

                <div class="ui tab segment" data-tab="display">
                    Theme (Light/Dark)
                    <br>
                    Accent Color
                </div>

                <div class="ui tab segment" data-tab="accessibility">
                    Enable Accessibility Features
                </div>

                <div class="ui tab segment" data-tab="options">
                    <div class='ui red button' id='delete-button' onclick="deleteWarning()">Delete Account</div>
                    <label id="warning-text">WARNING: This action cannot be reverted. Are you sure you want to delete your account?</textarea>
                    <br>
                    <br>
                    <div class='ui primary button' id='accept-delete' onclick="deleteAccount()">Yes</div>
                    <div class='ui button' id='deny-delete' onclick="deleteBackout()">No</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Firebase
        var firebaseConfig = {

            apiKey: "AIzaSyBJTDxfjl_xpPXSuiZmcriEpRj4KPPiVpg",
            authDomain: "bitwise-a3c2d.firebaseapp.com",
            databaseURL: "https://bitwise-a3c2d.firebaseio.com",
            projectId: "bitwise-a3c2d",
            storageBucket: "bitwise-a3c2d.appspot.com",
            messagingSenderId: "1025486551841",
            appId: "1:1025486551841:web:24f84a09e2f70631625c60",
            measurementId: "G-9DCMV9YV2N"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }

        const db = firebase.firestore();
    </script>

    <script src="/js/header.js" type="text/babel"></script>
    <script src="/js/effects.js" type="text/babel"></script>
    <script src="/js/account.js" type="text/babel"></script>
</body>

</html>